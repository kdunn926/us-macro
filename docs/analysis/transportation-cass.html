<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="ipynb_website:version" content="0.9.7" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- begin stylesheets -->

<link rel="stylesheet"
    href="../css/jt.css">
<link rel="stylesheet"
    href="../css/toc2.css">
<link rel="stylesheet"
    href="../site_libs/jqueryui-1.11.4/jquery-ui.css">
<link rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
<link rel="stylesheet"
    href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/styles/default.min.css">
    
<link rel="stylesheet" type="text/css" href="../css/readable.css">
<!-- end stylesheets -->

<!-- begin javascript -->

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Bootstrap 4 -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<!-- Vega/Vegalite -->
<script src="https://cdn.jsdelivr.net/npm/vega@3"></script>
<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@2"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@3"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@3"></script>

<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/highlight.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    
<!-- end javascript -->


<script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
    if (window.hljs &&
        document.readyState &&
        document.readyState === "complete") {
       window.setTimeout(() => {
          hljs.initHighlighting();
       }, 0);
    }
</script>
    

<script src="../js/doc_toc.js"></script>
<script src="../js/docs.js"></script>


<script>
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true
        },
        "HTML-CSS": {
            preferredFont: "TeX",
            availableFonts: ["TeX"],
            styles: {
                scale: 110,
                ".MathJax_Display": {
                    "font-size": "110%%",
                }
            }
        }
    });
</script>
    

<script>
function filterDataFrame(id) {
    var input = document.getElementById("search_" + id);
    var filter = input.value.toUpperCase();
    var table = document.getElementById("dataframe_" + id);
    var tr = table.getElementsByTagName("tr");
    // Loop through all table rows, and hide those who don't match the search query
    for (var i = 1; i < tr.length; i++) {
        for (var j = 0; j < tr[i].cells.length; ++j) {
            var matched = false;
            if (tr[i].cells[j].innerHTML.toUpperCase().indexOf(filter) != -1) {
                tr[i].style.display = "";
                matched = true
                break;
            }
            if (!matched)
                tr[i].style.display = "none";
        }
    }
}

function sortDataFrame(id, n, dtype) {
    var table = document.getElementById("dataframe_" + id);
    var tb = table.tBodies[0]; // use `<tbody>` to ignore `<thead>` and `<tfoot>` rows
    var tr = Array.prototype.slice.call(tb.rows, 0); // put rows into array
    if (dtype === 'numeric') {
        var fn = (a, b) =>
            parseFloat(a.cells[n].textContent) <= parseFloat(b.cells[n].textContent) ? -1 : 1;
    } else {
        var fn = function(a, b) {
            var c = a.cells[n].textContent.trim().localeCompare(b.cells[n].textContent.trim());
            return c > 0 ? 1 : (c < 0 ? -1 : 0) }
    }
    var isSorted = function(array, fn) {
        if (array.length < 2)
            return 1;
        var direction = fn(array[0], array[1]);
        for (var i = 1; i < array.length - 1; ++i) {
            var d = fn(array[i], array[i+1]);
            if (d == 0)
                continue;
            else if (direction == 0)
                direction = d;
            else if (direction != d)
                return 0;
            }
        return direction;
    }
    var sorted = isSorted(tr, fn);
    if (sorted == 1 || sorted == -1) {
        // if sorted already, reverse it
        for(var i = tr.length - 1; i >= 0; --i)
            tb.appendChild(tr[i]); // append each row in order
    } else {
        tr = tr.sort(fn);
        for(var i = 0; i < tr.length; ++i)
            tb.appendChild(tr[i]); // append each row in order
    }
}
</script>




<script>
    // manage active state of menu based on current page
    $(document).ready(function () {
      // active menu anchor
      href = window.location.pathname
      href = href.substr(href.lastIndexOf('/') + 1)
      if (href === "")
        href = "index.html";
      var menuAnchor = $('a[href*="' + href + '"]');
      // mark it active
      menuAnchor.parent().addClass('active');
      // if it's got a parent navbar menu mark it active as well
      menuAnchor.closest('li.dropdown').addClass('active');
    });
</script>
    

<div class="container-fluid main-container">

<!-- tabsets -->
<script src="../site_libs/navigation-1.1/tabsets.js"></script>
<script>
    $(document).ready(function () {
      window.buildTabsets("TOC");
    });
</script>



<title>US Macroeconomic Data Explorer</title>

<style type = "text/css">
    body {
      
    }
</style>
</head>

<body>
<div tabindex="-1" id="notebook" class="border-box-sizing">
<div class="container" id="notebook-container">

<!-- code folding -->


<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="../index.html">US Macroeconomic Data Explorer</a>
    <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#navbar" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="navbar-nav mr-auto">
        
<li class="nav-item">
  <a class="nav-link" href="../index.html">Overview</a>
</li>
        
      </ul>
        
<ul class="navbar-nav">
<li class="nav-item">
   <a class="nav-link" href="http://github.com/kdunn926/us-macro"> source </a>
</li>
</ul>
        
    </div><!--/.nav-collapse -->
</nav><!--/.navbar -->
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="CASS-Freight-Index">CASS Freight Index<a class="anchor-link" href="#CASS-Freight-Index">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">altair</span> <span class="k">as</span> <span class="nn">alt</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># https://www.cassinfo.com/freight-audit-payment/cass-transportation-indexes/cass-freight-index</span>
<span class="n">df_report</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;https://www.cassinfo.com/hubfs/Cass%20Indexes%20Historical%20Data%201219.xls&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="n">df_freight</span> <span class="o">=</span> <span class="n">df_report</span><span class="p">[</span><span class="s1">&#39;CFI-Shipments&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">df_freight</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Index&#39;</span><span class="p">,</span> <span class="s1">&#39;YoY&#39;</span><span class="p">,</span> <span class="s1">&#39;Seq&#39;</span><span class="p">]</span>

<span class="n">df_truckload</span> <span class="o">=</span> <span class="n">df_report</span><span class="p">[</span><span class="s1">&#39;TL Cost Index&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">df_truckload</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Index&#39;</span><span class="p">,</span> <span class="s1">&#39;YoY&#39;</span><span class="p">,</span> <span class="s1">&#39;Seq&#39;</span><span class="p">]</span>

<span class="n">df_intermodal</span> <span class="o">=</span> <span class="n">df_report</span><span class="p">[</span><span class="s1">&#39;IM Cost Index&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">df_intermodal</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Index&#39;</span><span class="p">,</span> <span class="s1">&#39;YoY&#39;</span><span class="p">,</span> <span class="s1">&#39;Seq&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_freight</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_freight</span><span class="o">.</span><span class="n">Date</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">month</span><span class="p">)</span>
<span class="n">df_freight</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_freight</span><span class="o">.</span><span class="n">Date</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">year</span><span class="p">)</span>
<span class="n">fieldOrdering</span> <span class="o">=</span> <span class="n">df_freight</span><span class="o">.</span><span class="n">Month</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">df_freight</span><span class="p">[</span><span class="s1">&#39;order&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_freight</span><span class="o">.</span><span class="n">Month</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">fieldOrdering</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

<span class="n">melted_freight</span> <span class="o">=</span> <span class="n">df_freight</span><span class="p">[[</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;order&#39;</span><span class="p">,</span> <span class="s1">&#39;Index&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;order&#39;</span><span class="p">])</span>
<span class="n">chosenYears</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2007</span><span class="p">,</span> <span class="mi">2008</span><span class="p">,</span> <span class="mi">2018</span><span class="p">,</span> <span class="mi">2019</span><span class="p">]</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">melted_freight</span><span class="p">[</span><span class="n">melted_freight</span><span class="o">.</span><span class="n">Year</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">chosenYears</span><span class="p">)])</span><span class="o">.</span><span class="n">mark_line</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;Month:O&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Month of the Year&#39;</span><span class="p">,</span> <span class="n">labelAngle</span><span class="o">=</span><span class="mi">0</span><span class="p">)),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;value:Q&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Freight Index&#39;</span><span class="p">)),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;Year:N&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Order</span><span class="p">(</span><span class="s1">&#39;order:Q&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Comparison of Annual Freight Index Trends&#39;</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">450</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">800</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[3]:</div>



   
        
            
<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-1ae5b62dd7384b05a082de5f73702748"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    const outputDiv = document.getElementById("altair-viz-1ae5b62dd7384b05a082de5f73702748");
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.0.2?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"name": "data-7a7b5165389b53aab2a81fb95589d4bf"}, "mark": "line", "encoding": {"color": {"type": "nominal", "field": "Year", "title": "Year"}, "order": {"type": "quantitative", "field": "order"}, "x": {"type": "ordinal", "axis": {"labelAngle": 0, "title": "Month of the Year"}, "field": "Month", "sort": null}, "y": {"type": "quantitative", "axis": {"title": "Freight Index"}, "field": "value"}}, "height": 450, "title": "Comparison of Annual Freight Index Trends", "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v4.0.2.json", "datasets": {"data-7a7b5165389b53aab2a81fb95589d4bf": [{"Month": 1, "Year": 2007, "order": 0, "variable": "Index", "value": 1.171}, {"Month": 2, "Year": 2007, "order": 1, "variable": "Index", "value": 1.196}, {"Month": 3, "Year": 2007, "order": 2, "variable": "Index", "value": 1.258}, {"Month": 4, "Year": 2007, "order": 3, "variable": "Index", "value": 1.259}, {"Month": 5, "Year": 2007, "order": 4, "variable": "Index", "value": 1.278}, {"Month": 6, "Year": 2007, "order": 5, "variable": "Index", "value": 1.31}, {"Month": 7, "Year": 2007, "order": 6, "variable": "Index", "value": 1.259}, {"Month": 8, "Year": 2007, "order": 7, "variable": "Index", "value": 1.271}, {"Month": 9, "Year": 2007, "order": 8, "variable": "Index", "value": 1.295}, {"Month": 10, "Year": 2007, "order": 9, "variable": "Index", "value": 1.264}, {"Month": 11, "Year": 2007, "order": 10, "variable": "Index", "value": 1.256}, {"Month": 12, "Year": 2007, "order": 11, "variable": "Index", "value": 1.173}, {"Month": 1, "Year": 2008, "order": 0, "variable": "Index", "value": 1.129}, {"Month": 2, "Year": 2008, "order": 1, "variable": "Index", "value": 1.134}, {"Month": 3, "Year": 2008, "order": 2, "variable": "Index", "value": 1.16}, {"Month": 4, "Year": 2008, "order": 3, "variable": "Index", "value": 1.171}, {"Month": 5, "Year": 2008, "order": 4, "variable": "Index", "value": 1.162}, {"Month": 6, "Year": 2008, "order": 5, "variable": "Index", "value": 1.166}, {"Month": 7, "Year": 2008, "order": 6, "variable": "Index", "value": 1.096}, {"Month": 8, "Year": 2008, "order": 7, "variable": "Index", "value": 1.127}, {"Month": 9, "Year": 2008, "order": 8, "variable": "Index", "value": 1.08}, {"Month": 10, "Year": 2008, "order": 9, "variable": "Index", "value": 1.05}, {"Month": 11, "Year": 2008, "order": 10, "variable": "Index", "value": 1.028}, {"Month": 12, "Year": 2008, "order": 11, "variable": "Index", "value": 0.902}, {"Month": 1, "Year": 2018, "order": 0, "variable": "Index", "value": 1.131}, {"Month": 2, "Year": 2018, "order": 1, "variable": "Index", "value": 1.198}, {"Month": 3, "Year": 2018, "order": 2, "variable": "Index", "value": 1.209}, {"Month": 4, "Year": 2018, "order": 3, "variable": "Index", "value": 1.234}, {"Month": 5, "Year": 2018, "order": 4, "variable": "Index", "value": 1.307}, {"Month": 6, "Year": 2018, "order": 5, "variable": "Index", "value": 1.247}, {"Month": 7, "Year": 2018, "order": 6, "variable": "Index", "value": 1.245}, {"Month": 8, "Year": 2018, "order": 7, "variable": "Index", "value": 1.227}, {"Month": 9, "Year": 2018, "order": 8, "variable": "Index", "value": 1.241}, {"Month": 10, "Year": 2018, "order": 9, "variable": "Index", "value": 1.224}, {"Month": 11, "Year": 2018, "order": 10, "variable": "Index", "value": 1.162}, {"Month": 12, "Year": 2018, "order": 11, "variable": "Index", "value": 1.142}, {"Month": 1, "Year": 2019, "order": 0, "variable": "Index", "value": 1.128}, {"Month": 2, "Year": 2019, "order": 1, "variable": "Index", "value": 1.173}, {"Month": 3, "Year": 2019, "order": 2, "variable": "Index", "value": 1.197}, {"Month": 4, "Year": 2019, "order": 3, "variable": "Index", "value": 1.194}, {"Month": 5, "Year": 2019, "order": 4, "variable": "Index", "value": 1.228}, {"Month": 6, "Year": 2019, "order": 5, "variable": "Index", "value": 1.181}, {"Month": 7, "Year": 2019, "order": 6, "variable": "Index", "value": 1.171}, {"Month": 8, "Year": 2019, "order": 7, "variable": "Index", "value": 1.19}, {"Month": 9, "Year": 2019, "order": 8, "variable": "Index", "value": 1.199}, {"Month": 10, "Year": 2019, "order": 9, "variable": "Index", "value": 1.152}, {"Month": 11, "Year": 2019, "order": 10, "variable": "Index", "value": 1.124}, {"Month": 12, "Year": 2019, "order": 11, "variable": "Index", "value": 1.052}]}}, {"mode": "vega-lite"});
</script>
</div>

        
    
        
    
        
    
        
    
        
    

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">freight_yoy</span> <span class="o">=</span> <span class="n">melted_freight</span><span class="p">[[</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">freight_yoy</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">freight_yoy</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">freight_yoy</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">str</span><span class="p">),</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%m %Y&#39;</span><span class="p">)</span>

<span class="n">freight_yoy</span> <span class="o">=</span> <span class="n">freight_yoy</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pct_change</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">freight_yoy</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;indigo&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">1.6</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;date:T&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">)),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;value:Q&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Year of Year Growth [%]&#39;</span><span class="p">)),</span>
    <span class="n">tooltip</span><span class="o">=</span><span class="p">[</span><span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;date:T&#39;</span><span class="p">),</span> <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;value:Q&#39;</span><span class="p">)]</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;CASS Freight Index&#39;</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">450</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[4]:</div>



   
        
            
<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-d8a8fbfa6f84434ca55b857815f5b805"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    const outputDiv = document.getElementById("altair-viz-d8a8fbfa6f84434ca55b857815f5b805");
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.0.2?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"name": "data-22319b78964dbf038d7a1dd347d476c9"}, "mark": {"type": "bar", "color": "indigo", "width": 1.6}, "encoding": {"tooltip": [{"type": "temporal", "field": "date"}, {"type": "quantitative", "field": "value"}], "x": {"type": "temporal", "axis": {"title": null}, "field": "date"}, "y": {"type": "quantitative", "axis": {"title": "Year of Year Growth [%]"}, "field": "value"}}, "height": 450, "title": "CASS Freight Index", "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v4.0.2.json", "datasets": {"data-22319b78964dbf038d7a1dd347d476c9": [{"date": "1991-01-01T00:00:00", "value": null}, {"date": "1991-02-01T00:00:00", "value": null}, {"date": "1991-03-01T00:00:00", "value": null}, {"date": "1991-04-01T00:00:00", "value": null}, {"date": "1991-05-01T00:00:00", "value": null}, {"date": "1991-06-01T00:00:00", "value": null}, {"date": "1991-07-01T00:00:00", "value": null}, {"date": "1991-08-01T00:00:00", "value": null}, {"date": "1991-09-01T00:00:00", "value": null}, {"date": "1991-10-01T00:00:00", "value": null}, {"date": "1991-11-01T00:00:00", "value": null}, {"date": "1991-12-01T00:00:00", "value": null}, {"date": "1992-01-01T00:00:00", "value": -0.022296544035674493}, {"date": "1992-02-01T00:00:00", "value": 0.016429353778751432}, {"date": "1992-03-01T00:00:00", "value": -0.00965665236051505}, {"date": "1992-04-01T00:00:00", "value": -0.016077170418006492}, {"date": "1992-05-01T00:00:00", "value": -0.03854625550660795}, {"date": "1992-06-01T00:00:00", "value": -0.028047464940668898}, {"date": "1992-07-01T00:00:00", "value": -0.044642857142857206}, {"date": "1992-08-01T00:00:00", "value": 0.004479283314669624}, {"date": "1992-09-01T00:00:00", "value": -0.021621621621621623}, {"date": "1992-10-01T00:00:00", "value": -0.008547008547008517}, {"date": "1992-11-01T00:00:00", "value": 0.01304347826086949}, {"date": "1992-12-01T00:00:00", "value": 0.021158129175946616}, {"date": "1993-01-01T00:00:00", "value": 0.03648802736602064}, {"date": "1993-02-01T00:00:00", "value": 0.023706896551723977}, {"date": "1993-03-01T00:00:00", "value": 0.03250270855904658}, {"date": "1993-04-01T00:00:00", "value": 0.02614379084967311}, {"date": "1993-05-01T00:00:00", "value": 0.06872852233676974}, {"date": "1993-06-01T00:00:00", "value": 0.017758046614872347}, {"date": "1993-07-01T00:00:00", "value": 0.06658878504672905}, {"date": "1993-08-01T00:00:00", "value": 0.03678929765886285}, {"date": "1993-09-01T00:00:00", "value": 0.05082872928176796}, {"date": "1993-10-01T00:00:00", "value": 0.03340517241379293}, {"date": "1993-11-01T00:00:00", "value": 0.013948497854077146}, {"date": "1993-12-01T00:00:00", "value": 0.03598691384950925}, {"date": "1994-01-01T00:00:00", "value": 0.0011001100110010764}, {"date": "1994-02-01T00:00:00", "value": 0.007368421052631691}, {"date": "1994-03-01T00:00:00", "value": 0.05876180482686255}, {"date": "1994-04-01T00:00:00", "value": 0.0583864118895967}, {"date": "1994-05-01T00:00:00", "value": 0.055734190782422255}, {"date": "1994-06-01T00:00:00", "value": 0.13195201744820073}, {"date": "1994-07-01T00:00:00", "value": 0.10733844468784204}, {"date": "1994-08-01T00:00:00", "value": 0.08494623655913958}, {"date": "1994-09-01T00:00:00", "value": 0.10410094637223977}, {"date": "1994-10-01T00:00:00", "value": 0.08967674661105307}, {"date": "1994-11-01T00:00:00", "value": 0.14814814814814814}, {"date": "1994-12-01T00:00:00", "value": 0.08631578947368435}, {"date": "1995-01-01T00:00:00", "value": 0.15824175824175835}, {"date": "1995-02-01T00:00:00", "value": 0.06478578892372}, {"date": "1995-03-01T00:00:00", "value": 0.04162537165510405}, {"date": "1995-04-01T00:00:00", "value": 0.0742226680040119}, {"date": "1995-05-01T00:00:00", "value": 0.08020304568527936}, {"date": "1995-06-01T00:00:00", "value": 0.0019267822736031004}, {"date": "1995-07-01T00:00:00", "value": -0.0029673590504449843}, {"date": "1995-08-01T00:00:00", "value": 0.0069375619425173785}, {"date": "1995-09-01T00:00:00", "value": -0.03619047619047622}, {"date": "1995-10-01T00:00:00", "value": -0.007655502392344471}, {"date": "1995-11-01T00:00:00", "value": -0.06728110599078341}, {"date": "1995-12-01T00:00:00", "value": -0.01841085271317844}, {"date": "1996-01-01T00:00:00", "value": -0.0379506641366224}, {"date": "1996-02-01T00:00:00", "value": 0.013738959764475034}, {"date": "1996-03-01T00:00:00", "value": -0.02283539486203623}, {"date": "1996-04-01T00:00:00", "value": -0.007469654528478031}, {"date": "1996-05-01T00:00:00", "value": -0.03383458646616544}, {"date": "1996-06-01T00:00:00", "value": -0.02211538461538476}, {"date": "1996-07-01T00:00:00", "value": 0.03571428571428581}, {"date": "1996-08-01T00:00:00", "value": 0.028543307086614123}, {"date": "1996-09-01T00:00:00", "value": 0.07905138339920947}, {"date": "1996-10-01T00:00:00", "value": 0.03375120540019294}, {"date": "1996-11-01T00:00:00", "value": 0.035573122529644285}, {"date": "1996-12-01T00:00:00", "value": 0.026653504442250897}, {"date": "1997-01-01T00:00:00", "value": 0.0019723865877712132}, {"date": "1997-02-01T00:00:00", "value": -0.0009680542110357404}, {"date": "1997-03-01T00:00:00", "value": 0.02142161635832518}, {"date": "1997-04-01T00:00:00", "value": 0.013170272812794037}, {"date": "1997-05-01T00:00:00", "value": -0.014591439688716124}, {"date": "1997-06-01T00:00:00", "value": -0.001966568338249708}, {"date": "1997-07-01T00:00:00", "value": 0.010536398467432928}, {"date": "1997-08-01T00:00:00", "value": 0.036363636363636376}, {"date": "1997-09-01T00:00:00", "value": 0.11172161172161155}, {"date": "1997-10-01T00:00:00", "value": 0.05970149253731338}, {"date": "1997-11-01T00:00:00", "value": 0.06106870229007644}, {"date": "1997-12-01T00:00:00", "value": 0.05865384615384617}, {"date": "1998-01-01T00:00:00", "value": 0.07972440944881876}, {"date": "1998-02-01T00:00:00", "value": 0.20639534883720945}, {"date": "1998-03-01T00:00:00", "value": 0.09914204003813154}, {"date": "1998-04-01T00:00:00", "value": 0.060352831940575724}, {"date": "1998-05-01T00:00:00", "value": 0.029615004935834133}, {"date": "1998-06-01T00:00:00", "value": 0.002955665024630738}, {"date": "1998-07-01T00:00:00", "value": -0.027488151658767723}, {"date": "1998-08-01T00:00:00", "value": -0.051708217913204124}, {"date": "1998-09-01T00:00:00", "value": -0.1630971993410214}, {"date": "1998-10-01T00:00:00", "value": -0.05193661971830976}, {"date": "1998-11-01T00:00:00", "value": 0.01618705035971213}, {"date": "1998-12-01T00:00:00", "value": -0.02815622161671205}, {"date": "1999-01-01T00:00:00", "value": -0.03828623518687335}, {"date": "1999-02-01T00:00:00", "value": -0.1405622489959839}, {"date": "1999-03-01T00:00:00", "value": -0.08586296617519518}, {"date": "1999-04-01T00:00:00", "value": -0.05166374781085814}, {"date": "1999-05-01T00:00:00", "value": -0.004793863854266389}, {"date": "1999-06-01T00:00:00", "value": 0.03438113948919441}, {"date": "1999-07-01T00:00:00", "value": 0.014619883040935644}, {"date": "1999-08-01T00:00:00", "value": -0.014605647517039855}, {"date": "1999-09-01T00:00:00", "value": 0.019685039370078705}, {"date": "1999-10-01T00:00:00", "value": -0.029712163416898862}, {"date": "1999-11-01T00:00:00", "value": -0.025663716814159243}, {"date": "1999-12-01T00:00:00", "value": 0.004672897196261516}, {"date": "2000-01-01T00:00:00", "value": 0.07488151658767772}, {"date": "2000-02-01T00:00:00", "value": 0.03925233644859816}, {"date": "2000-03-01T00:00:00", "value": 0.08349146110056904}, {"date": "2000-04-01T00:00:00", "value": 0.01754385964912286}, {"date": "2000-05-01T00:00:00", "value": 0.06262042389210021}, {"date": "2000-06-01T00:00:00", "value": 0.083570750237417}, {"date": "2000-07-01T00:00:00", "value": 0.01056676272814605}, {"date": "2000-08-01T00:00:00", "value": 0.14328063241106714}, {"date": "2000-09-01T00:00:00", "value": 0.14189189189189189}, {"date": "2000-10-01T00:00:00", "value": 0.11004784688995217}, {"date": "2000-11-01T00:00:00", "value": 0.0}, {"date": "2000-12-01T00:00:00", "value": -0.11813953488372098}, {"date": "2001-01-01T00:00:00", "value": -0.05731922398589062}, {"date": "2001-02-01T00:00:00", "value": -0.08273381294964033}, {"date": "2001-03-01T00:00:00", "value": -0.08143607705779332}, {"date": "2001-04-01T00:00:00", "value": -0.0980036297640654}, {"date": "2001-05-01T00:00:00", "value": -0.025385312783318237}, {"date": "2001-06-01T00:00:00", "value": -0.10429447852760731}, {"date": "2001-07-01T00:00:00", "value": -0.0066539923954374025}, {"date": "2001-08-01T00:00:00", "value": -0.14347450302506481}, {"date": "2001-09-01T00:00:00", "value": -0.1555367709213863}, {"date": "2001-10-01T00:00:00", "value": -0.08879310344827585}, {"date": "2001-11-01T00:00:00", "value": -0.11080835603996364}, {"date": "2001-12-01T00:00:00", "value": 0.018987341772152}, {"date": "2002-01-01T00:00:00", "value": -0.12347988774555652}, {"date": "2002-02-01T00:00:00", "value": -0.08333333333333326}, {"date": "2002-03-01T00:00:00", "value": -0.09818875119161108}, {"date": "2002-04-01T00:00:00", "value": -0.01609657947686116}, {"date": "2002-05-01T00:00:00", "value": -0.10046511627906973}, {"date": "2002-06-01T00:00:00", "value": -0.03228962818003922}, {"date": "2002-07-01T00:00:00", "value": 0.01626794258373221}, {"date": "2002-08-01T00:00:00", "value": 0.04137235116044402}, {"date": "2002-09-01T00:00:00", "value": 0.05005005005005003}, {"date": "2002-10-01T00:00:00", "value": -0.054872280037842946}, {"date": "2002-11-01T00:00:00", "value": -0.036772216547497516}, {"date": "2002-12-01T00:00:00", "value": -0.07039337474120078}, {"date": "2003-01-01T00:00:00", "value": 0.0032017075773744796}, {"date": "2003-02-01T00:00:00", "value": 0.01390374331550781}, {"date": "2003-03-01T00:00:00", "value": 0.09408033826638484}, {"date": "2003-04-01T00:00:00", "value": -0.012269938650306789}, {"date": "2003-05-01T00:00:00", "value": 0.022750775594622574}, {"date": "2003-06-01T00:00:00", "value": 0.027300303336703857}, {"date": "2003-07-01T00:00:00", "value": 0.0}, {"date": "2003-08-01T00:00:00", "value": 0.027131782945736482}, {"date": "2003-09-01T00:00:00", "value": 0.035271687321258405}, {"date": "2003-10-01T00:00:00", "value": 0.08908908908908919}, {"date": "2003-11-01T00:00:00", "value": 0.1367974549310711}, {"date": "2003-12-01T00:00:00", "value": 0.1458797327394208}, {"date": "2004-01-01T00:00:00", "value": 0.08404255319148923}, {"date": "2004-02-01T00:00:00", "value": 0.19303797468354444}, {"date": "2004-03-01T00:00:00", "value": 0.12946859903381647}, {"date": "2004-04-01T00:00:00", "value": 0.18219461697722572}, {"date": "2004-05-01T00:00:00", "value": 0.20626895854398386}, {"date": "2004-06-01T00:00:00", "value": 0.22933070866141736}, {"date": "2004-07-01T00:00:00", "value": 0.10640301318267409}, {"date": "2004-08-01T00:00:00", "value": 0.21886792452830184}, {"date": "2004-09-01T00:00:00", "value": 0.2117863720073665}, {"date": "2004-10-01T00:00:00", "value": 0.1930147058823528}, {"date": "2004-11-01T00:00:00", "value": 0.2052238805970148}, {"date": "2004-12-01T00:00:00", "value": 0.19727891156462585}, {"date": "2005-01-01T00:00:00", "value": 0.20608439646712484}, {"date": "2005-02-01T00:00:00", "value": 0.1679929266136162}, {"date": "2005-03-01T00:00:00", "value": 0.11462788708297689}, {"date": "2005-04-01T00:00:00", "value": 0.07530647985989503}, {"date": "2005-05-01T00:00:00", "value": 0.021793797150041927}, {"date": "2005-06-01T00:00:00", "value": -0.012810248198558805}, {"date": "2005-07-01T00:00:00", "value": 0.05872340425531908}, {"date": "2005-08-01T00:00:00", "value": -0.037151702786377694}, {"date": "2005-09-01T00:00:00", "value": -0.029635258358662764}, {"date": "2005-10-01T00:00:00", "value": -0.0315870570107859}, {"date": "2005-11-01T00:00:00", "value": -0.042569659442724395}, {"date": "2005-12-01T00:00:00", "value": 0.01948051948051943}, {"date": "2006-01-01T00:00:00", "value": 0.04637917005695691}, {"date": "2006-02-01T00:00:00", "value": -0.05071915215745648}, {"date": "2006-03-01T00:00:00", "value": -0.01765157329240208}, {"date": "2006-04-01T00:00:00", "value": 0.04885993485342022}, {"date": "2006-05-01T00:00:00", "value": 0.09023789991796538}, {"date": "2006-06-01T00:00:00", "value": 0.0924574209245741}, {"date": "2006-07-01T00:00:00", "value": 0.0361736334405145}, {"date": "2006-08-01T00:00:00", "value": 0.0811897106109325}, {"date": "2006-09-01T00:00:00", "value": 0.027407987470634332}, {"date": "2006-10-01T00:00:00", "value": -0.01352426412092278}, {"date": "2006-11-01T00:00:00", "value": -0.023443815683104385}, {"date": "2006-12-01T00:00:00", "value": -0.07563694267515919}, {"date": "2007-01-01T00:00:00", "value": -0.08942457231726286}, {"date": "2007-02-01T00:00:00", "value": -0.046251993620414766}, {"date": "2007-03-01T00:00:00", "value": -0.017187500000000022}, {"date": "2007-04-01T00:00:00", "value": -0.022515527950310643}, {"date": "2007-05-01T00:00:00", "value": -0.038374717832957095}, {"date": "2007-06-01T00:00:00", "value": -0.027468448403860424}, {"date": "2007-07-01T00:00:00", "value": -0.023273855702094615}, {"date": "2007-08-01T00:00:00", "value": -0.05501858736059484}, {"date": "2007-09-01T00:00:00", "value": -0.012957317073170826}, {"date": "2007-10-01T00:00:00", "value": 0.019354838709677358}, {"date": "2007-11-01T00:00:00", "value": 0.039735099337748325}, {"date": "2007-12-01T00:00:00", "value": 0.010335917312661591}, {"date": "2008-01-01T00:00:00", "value": -0.03586678052946202}, {"date": "2008-02-01T00:00:00", "value": -0.05183946488294322}, {"date": "2008-03-01T00:00:00", "value": -0.07790143084260737}, {"date": "2008-04-01T00:00:00", "value": -0.06989674344718022}, {"date": "2008-05-01T00:00:00", "value": -0.09076682316118945}, {"date": "2008-06-01T00:00:00", "value": -0.1099236641221375}, {"date": "2008-07-01T00:00:00", "value": -0.12946783161239062}, {"date": "2008-08-01T00:00:00", "value": -0.1132966168371361}, {"date": "2008-09-01T00:00:00", "value": -0.1660231660231659}, {"date": "2008-10-01T00:00:00", "value": -0.16930379746835444}, {"date": "2008-11-01T00:00:00", "value": -0.18152866242038213}, {"date": "2008-12-01T00:00:00", "value": -0.23103154305200346}, {"date": "2009-01-01T00:00:00", "value": -0.24623560673162093}, {"date": "2009-02-01T00:00:00", "value": -0.1728395061728395}, {"date": "2009-03-01T00:00:00", "value": -0.21982758620689646}, {"date": "2009-04-01T00:00:00", "value": -0.2502134927412468}, {"date": "2009-05-01T00:00:00", "value": -0.2142857142857142}, {"date": "2009-06-01T00:00:00", "value": -0.19982847341337895}, {"date": "2009-07-01T00:00:00", "value": -0.15328467153284675}, {"date": "2009-08-01T00:00:00", "value": -0.16592724046140195}, {"date": "2009-09-01T00:00:00", "value": -0.10555555555555562}, {"date": "2009-10-01T00:00:00", "value": -0.12285714285714289}, {"date": "2009-11-01T00:00:00", "value": -0.0787937743190662}, {"date": "2009-12-01T00:00:00", "value": 0.018847006651884657}, {"date": "2010-01-01T00:00:00", "value": 0.05640423031727382}, {"date": "2010-02-01T00:00:00", "value": -0.008528784648187515}, {"date": "2010-03-01T00:00:00", "value": 0.07624309392265194}, {"date": "2010-04-01T00:00:00", "value": 0.12870159453302965}, {"date": "2010-05-01T00:00:00", "value": 0.11062431544359241}, {"date": "2010-06-01T00:00:00", "value": 0.18542336548767424}, {"date": "2010-07-01T00:00:00", "value": 0.0894396551724137}, {"date": "2010-08-01T00:00:00", "value": 0.1648936170212767}, {"date": "2010-09-01T00:00:00", "value": 0.15527950310559024}, {"date": "2010-10-01T00:00:00", "value": 0.14875135722041266}, {"date": "2010-11-01T00:00:00", "value": 0.1488912354804648}, {"date": "2010-12-01T00:00:00", "value": 0.14145810663764946}, {"date": "2011-01-01T00:00:00", "value": 0.12347052280311455}, {"date": "2011-02-01T00:00:00", "value": 0.11397849462365595}, {"date": "2011-03-01T00:00:00", "value": 0.1375770020533882}, {"date": "2011-04-01T00:00:00", "value": 0.12310797174571131}, {"date": "2011-05-01T00:00:00", "value": 0.09566074950690329}, {"date": "2011-06-01T00:00:00", "value": 0.05334538878842676}, {"date": "2011-07-01T00:00:00", "value": 0.10979228486646897}, {"date": "2011-08-01T00:00:00", "value": 0.043835616438356206}, {"date": "2011-09-01T00:00:00", "value": 0.07526881720430101}, {"date": "2011-10-01T00:00:00", "value": 0.021739130434782483}, {"date": "2011-11-01T00:00:00", "value": -0.02941176470588236}, {"date": "2011-12-01T00:00:00", "value": 0.006673021925643674}, {"date": "2012-01-01T00:00:00", "value": 0.035643564356435675}, {"date": "2012-02-01T00:00:00", "value": 0.03474903474903468}, {"date": "2012-03-01T00:00:00", "value": -0.012635379061371799}, {"date": "2012-04-01T00:00:00", "value": 0.0017969451931716396}, {"date": "2012-05-01T00:00:00", "value": 0.021602160216021682}, {"date": "2012-06-01T00:00:00", "value": -0.012875536480686844}, {"date": "2012-07-01T00:00:00", "value": 0.017825311942958777}, {"date": "2012-08-01T00:00:00", "value": -0.01137357830271224}, {"date": "2012-09-01T00:00:00", "value": -0.03749999999999998}, {"date": "2012-10-01T00:00:00", "value": 0.05365402405180397}, {"date": "2012-11-01T00:00:00", "value": 0.035037878787878673}, {"date": "2012-12-01T00:00:00", "value": 0.014204545454545414}, {"date": "2013-01-01T00:00:00", "value": -0.0248565965583174}, {"date": "2013-02-01T00:00:00", "value": 0.004664179104477473}, {"date": "2013-03-01T00:00:00", "value": 0.04204753199268718}, {"date": "2013-04-01T00:00:00", "value": -0.013452914798206206}, {"date": "2013-05-01T00:00:00", "value": -0.002643171806167466}, {"date": "2013-06-01T00:00:00", "value": -0.014782608695652066}, {"date": "2013-07-01T00:00:00", "value": -0.030647985989492033}, {"date": "2013-08-01T00:00:00", "value": -0.0035398230088495852}, {"date": "2013-09-01T00:00:00", "value": 0.000865800865800681}, {"date": "2013-10-01T00:00:00", "value": -0.02019315188762061}, {"date": "2013-11-01T00:00:00", "value": 0.010978956999085021}, {"date": "2013-12-01T00:00:00", "value": -0.031746031746031744}, {"date": "2014-01-01T00:00:00", "value": -0.019607843137254943}, {"date": "2014-02-01T00:00:00", "value": -0.00371402042711233}, {"date": "2014-03-01T00:00:00", "value": 0.0035087719298245723}, {"date": "2014-04-01T00:00:00", "value": 0.05545454545454542}, {"date": "2014-05-01T00:00:00", "value": 0.03621908127208484}, {"date": "2014-06-01T00:00:00", "value": 0.06001765225066191}, {"date": "2014-07-01T00:00:00", "value": 0.042457091237579014}, {"date": "2014-08-01T00:00:00", "value": 0.04884547069271772}, {"date": "2014-09-01T00:00:00", "value": 0.006920415224913601}, {"date": "2014-10-01T00:00:00", "value": 0.03315412186379918}, {"date": "2014-11-01T00:00:00", "value": 0.041628959276018174}, {"date": "2014-12-01T00:00:00", "value": 0.03953712632594031}, {"date": "2015-01-01T00:00:00", "value": 0.026999999999999913}, {"date": "2015-02-01T00:00:00", "value": 0.009319664492078328}, {"date": "2015-03-01T00:00:00", "value": -0.05069930069930051}, {"date": "2015-04-01T00:00:00", "value": -0.024978466838932123}, {"date": "2015-05-01T00:00:00", "value": -0.01278772378516635}, {"date": "2015-06-01T00:00:00", "value": -0.0341382181515405}, {"date": "2015-07-01T00:00:00", "value": -0.011265164644713943}, {"date": "2015-08-01T00:00:00", "value": -0.04572396274343782}, {"date": "2015-09-01T00:00:00", "value": -0.015463917525773252}, {"date": "2015-10-01T00:00:00", "value": -0.05290546400693841}, {"date": "2015-11-01T00:00:00", "value": -0.051259774109470024}, {"date": "2015-12-01T00:00:00", "value": -0.03710575139146566}, {"date": "2016-01-01T00:00:00", "value": -0.051606621226874316}, {"date": "2016-02-01T00:00:00", "value": -0.025854108956602007}, {"date": "2016-03-01T00:00:00", "value": -0.014732965009208066}, {"date": "2016-04-01T00:00:00", "value": -0.048586572438162445}, {"date": "2016-05-01T00:00:00", "value": -0.05785837651122616}, {"date": "2016-06-01T00:00:00", "value": -0.04310344827586188}, {"date": "2016-07-01T00:00:00", "value": -0.0262927256792288}, {"date": "2016-08-01T00:00:00", "value": -0.010647737355811926}, {"date": "2016-09-01T00:00:00", "value": -0.030541012216404817}, {"date": "2016-10-01T00:00:00", "value": 0.026556776556776462}, {"date": "2016-11-01T00:00:00", "value": -0.0045787545787546735}, {"date": "2016-12-01T00:00:00", "value": 0.034682080924855585}, {"date": "2017-01-01T00:00:00", "value": 0.03182751540041062}, {"date": "2017-02-01T00:00:00", "value": 0.018957345971563955}, {"date": "2017-03-01T00:00:00", "value": 0.009345794392523477}, {"date": "2017-04-01T00:00:00", "value": 0.039925719591457964}, {"date": "2017-05-01T00:00:00", "value": 0.0705774518790101}, {"date": "2017-06-01T00:00:00", "value": 0.047747747747747704}, {"date": "2017-07-01T00:00:00", "value": 0.013501350135013412}, {"date": "2017-08-01T00:00:00", "value": 0.0385650224215246}, {"date": "2017-09-01T00:00:00", "value": 0.03240324032403241}, {"date": "2017-10-01T00:00:00", "value": 0.028545941123996554}, {"date": "2017-11-01T00:00:00", "value": 0.062557497700092}, {"date": "2017-12-01T00:00:00", "value": 0.07169459962756042}, {"date": "2018-01-01T00:00:00", "value": 0.1253731343283584}, {"date": "2018-02-01T00:00:00", "value": 0.11441860465116283}, {"date": "2018-03-01T00:00:00", "value": 0.11944444444444446}, {"date": "2018-04-01T00:00:00", "value": 0.10178571428571415}, {"date": "2018-05-01T00:00:00", "value": 0.11900684931506844}, {"date": "2018-06-01T00:00:00", "value": 0.07222699914015474}, {"date": "2018-07-01T00:00:00", "value": 0.10568383658969815}, {"date": "2018-08-01T00:00:00", "value": 0.059585492227979486}, {"date": "2018-09-01T00:00:00", "value": 0.08195292066259818}, {"date": "2018-10-01T00:00:00", "value": 0.06157849089332168}, {"date": "2018-11-01T00:00:00", "value": 0.006060606060605878}, {"date": "2018-12-01T00:00:00", "value": -0.007819287576020906}, {"date": "2019-01-01T00:00:00", "value": -0.0026525198938992522}, {"date": "2019-02-01T00:00:00", "value": -0.02086811352253748}, {"date": "2019-03-01T00:00:00", "value": -0.00992555831265507}, {"date": "2019-04-01T00:00:00", "value": -0.03241491085899517}, {"date": "2019-05-01T00:00:00", "value": -0.0604437643458301}, {"date": "2019-06-01T00:00:00", "value": -0.052927024859663274}, {"date": "2019-07-01T00:00:00", "value": -0.05943775100401616}, {"date": "2019-08-01T00:00:00", "value": -0.030154849225753955}, {"date": "2019-09-01T00:00:00", "value": -0.03384367445608383}, {"date": "2019-10-01T00:00:00", "value": -0.05882352941176472}, {"date": "2019-11-01T00:00:00", "value": -0.032702237521514466}, {"date": "2019-12-01T00:00:00", "value": -0.07880910683012243}]}}, {"mode": "vega-lite"});
</script>
</div>

        
    
        
    
        
    
        
    
        
    

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_truckload</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_truckload</span><span class="o">.</span><span class="n">Date</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">v</span><span class="p">)</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">df_truckload</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;Date:T&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">)),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;YoY:Q&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Year-over-year Index Growth [%]&#39;</span><span class="p">)),</span>
    <span class="n">tooltip</span><span class="o">=</span><span class="p">[</span><span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;Date:T&#39;</span><span class="p">),</span> <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;YoY:Q&#39;</span><span class="p">)]</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;CASS per-mile Truckload Pricing Index&#39;</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">450</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span>
    <span class="n">background</span><span class="o">=</span><span class="s1">&#39;white&#39;</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[5]:</div>



   
        
            
<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-7d280dc725a54644bfaa0644aaaf59fc"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    const outputDiv = document.getElementById("altair-viz-7d280dc725a54644bfaa0644aaaf59fc");
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.0.2?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"name": "data-1106c08cf9530abe6e55c7773f411172"}, "mark": {"type": "bar", "color": "blue", "width": 3}, "background": "white", "encoding": {"tooltip": [{"type": "temporal", "field": "Date"}, {"type": "quantitative", "field": "YoY"}], "x": {"type": "temporal", "axis": {"title": null}, "field": "Date"}, "y": {"type": "quantitative", "axis": {"title": "Year-over-year Index Growth [%]"}, "field": "YoY"}}, "height": 450, "title": "CASS per-mile Truckload Pricing Index", "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v4.0.2.json", "datasets": {"data-1106c08cf9530abe6e55c7773f411172": [{"Date": "2006-01-01T00:00:00", "Index": 105.65364184517992, "YoY": 0.05653641845179913, "Seq": -0.006501205699407819}, {"Date": "2006-02-01T00:00:00", "Index": 105.53853783945264, "YoY": 0.049901054295424574, "Seq": -0.0010894466458235552}, {"Date": "2006-03-01T00:00:00", "Index": 104.05881273173547, "YoY": 0.04945864785814913, "Seq": -0.01402070881414108}, {"Date": "2006-04-01T00:00:00", "Index": 105.51252145330578, "YoY": 0.05418469885327326, "Seq": 0.01397006830471903}, {"Date": "2006-05-01T00:00:00", "Index": 105.82087694865972, "YoY": 0.057079220110526796, "Seq": 0.002922454047223244}, {"Date": "2006-06-01T00:00:00", "Index": 105.69453636090995, "YoY": 0.04750621724590465, "Seq": -0.0011939098540173498}, {"Date": "2006-07-01T00:00:00", "Index": 106.67689243292897, "YoY": 0.04546202648241726, "Seq": 0.00929429378132296}, {"Date": "2006-08-01T00:00:00", "Index": 106.82126211671397, "YoY": 0.045050059950226595, "Seq": 0.0013533360458148902}, {"Date": "2006-09-01T00:00:00", "Index": 107.71089472463167, "YoY": 0.03776587925851338, "Seq": 0.008328235318411537}, {"Date": "2006-10-01T00:00:00", "Index": 108.30793271320947, "YoY": 0.033795409061316395, "Seq": 0.005542967497430551}, {"Date": "2006-11-01T00:00:00", "Index": 108.37710072036619, "YoY": 0.018216400132194055, "Seq": 0.0006386236485547148}, {"Date": "2006-12-01T00:00:00", "Index": 109.49292287053744, "YoY": 0.029600920105807393, "Seq": 0.010295737224510937}, {"Date": "2007-01-01T00:00:00", "Index": 106.95017617785709, "YoY": 0.012271553635387678, "Seq": -0.023222931912109557}, {"Date": "2007-02-01T00:00:00", "Index": 107.46235319471631, "YoY": 0.01822855797178291, "Seq": 0.004788931025297982}, {"Date": "2007-03-01T00:00:00", "Index": 104.37063250533349, "YoY": 0.0029965724710110386, "Seq": -0.02877026788889303}, {"Date": "2007-04-01T00:00:00", "Index": 104.84611823481593, "YoY": -0.006315868574752637, "Seq": 0.00455574253090929}, {"Date": "2007-05-01T00:00:00", "Index": 103.63696482344345, "YoY": -0.0206378191921035, "Seq": -0.011532648339583118}, {"Date": "2007-06-01T00:00:00", "Index": 103.93162177366968, "YoY": -0.01667933507197128, "Seq": 0.0028431646056810145}, {"Date": "2007-07-01T00:00:00", "Index": 104.59345963591136, "YoY": -0.019530310168413667, "Seq": 0.0063680124580656194}, {"Date": "2007-08-01T00:00:00", "Index": 104.86231373738066, "YoY": -0.01833856238463971, "Seq": 0.0025704676220212885}, {"Date": "2007-09-01T00:00:00", "Index": 106.49589242350277, "YoY": -0.011280217328387465, "Seq": 0.015578320064663753}, {"Date": "2007-10-01T00:00:00", "Index": 106.20668402411016, "YoY": -0.019400690572344725, "Seq": -0.0027156765656510817}, {"Date": "2007-11-01T00:00:00", "Index": 107.74509275440217, "YoY": -0.005831563695311681, "Seq": 0.014485046251352385}, {"Date": "2007-12-01T00:00:00", "Index": 107.2191657040654, "YoY": -0.02076624777987235, "Seq": -0.004881215811244233}, {"Date": "2008-01-01T00:00:00", "Index": 106.20267949056561, "YoY": -0.0069892048242014004, "Seq": -0.009480452555519658}, {"Date": "2008-02-01T00:00:00", "Index": 107.18020985207026, "YoY": -0.0026255086945176087, "Seq": 0.009204385107736357}, {"Date": "2008-03-01T00:00:00", "Index": 107.09081863025953, "YoY": 0.026062754049009262, "Seq": -0.0008340273072249271}, {"Date": "2008-04-01T00:00:00", "Index": 106.98435636118563, "YoY": 0.020394060956847815, "Seq": -0.000994130686790884}, {"Date": "2008-05-01T00:00:00", "Index": 108.78750607112293, "YoY": 0.049697916727433844, "Seq": 0.016854330588761623}, {"Date": "2008-06-01T00:00:00", "Index": 108.49291001997278, "YoY": 0.04388739604425829, "Seq": -0.0027079952633306537}, {"Date": "2008-07-01T00:00:00", "Index": 108.89682079339576, "YoY": 0.04114369265979301, "Seq": 0.0037229232154305514}, {"Date": "2008-08-01T00:00:00", "Index": 109.63524754253804, "YoY": 0.04551619771723536, "Seq": 0.00678097619161222}, {"Date": "2008-09-01T00:00:00", "Index": 109.22508434530943, "YoY": 0.025627203638554086, "Seq": -0.0037411617743597914}, {"Date": "2008-10-01T00:00:00", "Index": 108.49890808513373, "YoY": 0.02158267233447586, "Seq": -0.0066484385388975165}, {"Date": "2008-11-01T00:00:00", "Index": 107.07910393548876, "YoY": -0.006181152216662711, "Seq": -0.013085884224115163}, {"Date": "2008-12-01T00:00:00", "Index": 107.73538137993886, "YoY": 0.004814583964384278, "Seq": 0.006128903028974619}, {"Date": "2009-01-01T00:00:00", "Index": 106.38986379904696, "YoY": 0.0017625196405517407, "Seq": -0.012489096559159196}, {"Date": "2009-02-01T00:00:00", "Index": 104.08942760763911, "YoY": -0.028837247554348355, "Seq": -0.021622700784287185}, {"Date": "2009-03-01T00:00:00", "Index": 102.6986700959312, "YoY": -0.04101330618727084, "Seq": -0.013361179359639763}, {"Date": "2009-04-01T00:00:00", "Index": 102.29952140060803, "YoY": -0.04378990648652703, "Seq": -0.00388660042968747}, {"Date": "2009-05-01T00:00:00", "Index": 102.46730697146063, "YoY": -0.05809673672940252, "Seq": 0.0016401403306234297}, {"Date": "2009-06-01T00:00:00", "Index": 101.14203184008738, "YoY": -0.06775445675235514, "Seq": -0.012933638743354181}, {"Date": "2009-07-01T00:00:00", "Index": 103.1514059451315, "YoY": -0.052760170649653215, "Seq": 0.019866855237999248}, {"Date": "2009-08-01T00:00:00", "Index": 103.4517389633004, "YoY": -0.05640073532773726, "Seq": 0.0029115746452224034}, {"Date": "2009-09-01T00:00:00", "Index": 102.48432766790042, "YoY": -0.06171436458770274, "Seq": -0.009351329471060654}, {"Date": "2009-10-01T00:00:00", "Index": 101.49490744523912, "YoY": -0.0645536509399608, "Seq": -0.00965435637990919}, {"Date": "2009-11-01T00:00:00", "Index": 102.3692110364203, "YoY": -0.04398517288588821, "Seq": 0.008614260687442865}, {"Date": "2009-12-01T00:00:00", "Index": 101.644371453372, "YoY": -0.05653676488215453, "Seq": -0.00708064051397661}, {"Date": "2010-01-01T00:00:00", "Index": 101.7040603254427, "YoY": -0.044043702156203346, "Seq": 0.0005872324381293037}, {"Date": "2010-02-01T00:00:00", "Index": 101.64180710059195, "YoY": -0.023514592819871893, "Seq": -0.0006121016668513279}, {"Date": "2010-03-01T00:00:00", "Index": 100.60485904046304, "YoY": -0.020387908173614466, "Seq": -0.010201983708363893}, {"Date": "2010-04-01T00:00:00", "Index": 102.24439344498246, "YoY": -0.0005388877178582607, "Seq": 0.016296771549175526}, {"Date": "2010-05-01T00:00:00", "Index": 103.38244419366127, "YoY": 0.008931016626166688, "Seq": 0.011130690987875003}, {"Date": "2010-06-01T00:00:00", "Index": 104.631783201162, "YoY": 0.03450347296356626, "Seq": 0.012084634071529488}, {"Date": "2010-07-01T00:00:00", "Index": 106.59003327478187, "YoY": 0.033335729146333204, "Seq": 0.0187156331824625}, {"Date": "2010-08-01T00:00:00", "Index": 106.34508047494182, "YoY": 0.027968031669992843, "Seq": -0.002298083529147399}, {"Date": "2010-09-01T00:00:00", "Index": 107.23527546241642, "YoY": 0.04635779833489684, "Seq": 0.008370814930967585}, {"Date": "2010-10-01T00:00:00", "Index": 106.88235496687726, "YoY": 0.053080963934519554, "Seq": -0.003291085829894236}, {"Date": "2010-11-01T00:00:00", "Index": 106.34380506088934, "YoY": 0.038826068739115094, "Seq": -0.005038716691401657}, {"Date": "2010-12-01T00:00:00", "Index": 106.00739930902367, "YoY": 0.04292444129730444, "Seq": -0.003163378926238858}, {"Date": "2011-01-01T00:00:00", "Index": 106.67137702416727, "YoY": 0.04884088877896975, "Seq": 0.006263503486280575}, {"Date": "2011-02-01T00:00:00", "Index": 106.24478607325256, "YoY": 0.0452862764246722, "Seq": -0.003999113565563817}, {"Date": "2011-03-01T00:00:00", "Index": 105.22262567069866, "YoY": 0.04590003578632684, "Seq": -0.009620805315087577}, {"Date": "2011-04-01T00:00:00", "Index": 106.72433851813213, "YoY": 0.04381604626135638, "Seq": 0.014271767482149533}, {"Date": "2011-05-01T00:00:00", "Index": 107.8044158474331, "YoY": 0.042772945525338724, "Seq": 0.010120253208385721}, {"Date": "2011-06-01T00:00:00", "Index": 110.25056168616491, "YoY": 0.053700494372732166, "Seq": 0.02269059035757537}, {"Date": "2011-07-01T00:00:00", "Index": 110.2537740375036, "YoY": 0.03437226399279614, "Seq": 2.913682515126581e-05}, {"Date": "2011-08-01T00:00:00", "Index": 110.27651121585285, "YoY": 0.03696861879602786, "Seq": 0.00020622585074958621}, {"Date": "2011-09-01T00:00:00", "Index": 110.01365161390844, "YoY": 0.025909162255714824, "Seq": -0.0023836408954749366}, {"Date": "2011-10-01T00:00:00", "Index": 111.07190646387126, "YoY": 0.03919778431428034, "Seq": 0.009619304826611552}, {"Date": "2011-11-01T00:00:00", "Index": 111.51712419851694, "YoY": 0.04864711333834171, "Seq": 0.004008373933785947}, {"Date": "2011-12-01T00:00:00", "Index": 112.89383133637041, "YoY": 0.06496180523467054, "Seq": 0.012345253231268227}, {"Date": "2012-01-01T00:00:00", "Index": 111.80961381033198, "YoY": 0.04816884275339017, "Seq": -0.009603868636612889}, {"Date": "2012-02-01T00:00:00", "Index": 109.9175184860155, "YoY": 0.034568589655126214, "Seq": -0.01692247437260752}, {"Date": "2012-03-01T00:00:00", "Index": 110.93349814807505, "YoY": 0.05427418714344712, "Seq": 0.00924310952479157}, {"Date": "2012-04-01T00:00:00", "Index": 111.44181810851353, "YoY": 0.044202472049802655, "Seq": 0.004582204374011356}, {"Date": "2012-05-01T00:00:00", "Index": 111.60061149119784, "YoY": 0.03521373047591281, "Seq": 0.001424899426261117}, {"Date": "2012-06-01T00:00:00", "Index": 112.47233007957409, "YoY": 0.020151991603757802, "Seq": 0.007811055662943378}, {"Date": "2012-07-01T00:00:00", "Index": 112.41648866187211, "YoY": 0.01961578769750627, "Seq": -0.0004964902715403063}, {"Date": "2012-08-01T00:00:00", "Index": 112.58364494926877, "YoY": 0.020921352226132672, "Seq": 0.0014869374536277125}, {"Date": "2012-09-01T00:00:00", "Index": 112.97843828999554, "YoY": 0.026949261592479345, "Seq": 0.0035066668955749947}, {"Date": "2012-10-01T00:00:00", "Index": 115.04178170823597, "YoY": 0.035741488291245016, "Seq": 0.018263161090474656}, {"Date": "2012-11-01T00:00:00", "Index": 115.89921409657484, "YoY": 0.03929521972120731, "Seq": 0.007453225911551398}, {"Date": "2012-12-01T00:00:00", "Index": 117.05619590444488, "YoY": 0.036869725465092706, "Seq": 0.00998265447172031}, {"Date": "2013-01-01T00:00:00", "Index": 112.70502229696484, "YoY": 0.008008331807243252, "Seq": -0.037171664206753996}, {"Date": "2013-02-01T00:00:00", "Index": 112.0151169039267, "YoY": 0.01908338585880709, "Seq": -0.006121336733516003}, {"Date": "2013-03-01T00:00:00", "Index": 112.22869375978792, "YoY": 0.011675423865062262, "Seq": 0.0019066788641073362}, {"Date": "2013-04-01T00:00:00", "Index": 112.12227431799133, "YoY": 0.006105932414125048, "Seq": -0.0009482373734507332}, {"Date": "2013-05-01T00:00:00", "Index": 112.86448006186443, "YoY": 0.011324925139556852, "Seq": 0.006619610138910659}, {"Date": "2013-06-01T00:00:00", "Index": 114.02954579300972, "YoY": 0.013845322777023439, "Seq": 0.010322696126422448}, {"Date": "2013-07-01T00:00:00", "Index": 114.81454895868819, "YoY": 0.021331926707202298, "Seq": 0.006884208476138687}, {"Date": "2013-08-01T00:00:00", "Index": 115.65722510905923, "YoY": 0.027300414382350535, "Seq": 0.007339454433377135}, {"Date": "2013-09-01T00:00:00", "Index": 116.5808553510926, "YoY": 0.03188588119664293, "Seq": 0.00798592773743656}, {"Date": "2013-10-01T00:00:00", "Index": 117.47567648576988, "YoY": 0.02115661580856454, "Seq": 0.007675540996696872}, {"Date": "2013-11-01T00:00:00", "Index": 116.93469932771505, "YoY": 0.008934359384675128, "Seq": -0.004605014197303747}, {"Date": "2013-12-01T00:00:00", "Index": 117.84025373797378, "YoY": 0.006698131845741306, "Seq": 0.007744103465138874}, {"Date": "2014-01-01T00:00:00", "Index": 115.85681813208946, "YoY": 0.02796499899374494, "Seq": -0.016831562585520543}, {"Date": "2014-02-01T00:00:00", "Index": 116.20400868789011, "YoY": 0.03739577210418976, "Seq": 0.0029967209647068227}, {"Date": "2014-03-01T00:00:00", "Index": 117.24245245648403, "YoY": 0.04467448144257524, "Seq": 0.008936385072420894}, {"Date": "2014-04-01T00:00:00", "Index": 118.60862144136468, "YoY": 0.05785065601663897, "Seq": 0.011652511153225076}, {"Date": "2014-05-01T00:00:00", "Index": 118.66446543958315, "YoY": 0.05138893453936588, "Seq": 0.0004708257927614756}, {"Date": "2014-06-01T00:00:00", "Index": 119.5068098973951, "YoY": 0.048033727279137794, "Seq": 0.00709854002789756}, {"Date": "2014-07-01T00:00:00", "Index": 121.25666064868119, "YoY": 0.05610884464050758, "Seq": 0.01464226810830671}, {"Date": "2014-08-01T00:00:00", "Index": 121.53660123505104, "YoY": 0.05083449062907941, "Seq": 0.002308661519064392}, {"Date": "2014-09-01T00:00:00", "Index": 122.30722273541186, "YoY": 0.04911927749263678, "Seq": 0.006340653700447341}, {"Date": "2014-10-01T00:00:00", "Index": 123.60316294977697, "YoY": 0.05215961846152317, "Seq": 0.010595778281783375}, {"Date": "2014-11-01T00:00:00", "Index": 123.07822096716774, "YoY": 0.05253805478419338, "Seq": -0.004246994737687526}, {"Date": "2014-12-01T00:00:00", "Index": 125.08174560241916, "YoY": 0.06145176741173142, "Seq": 0.016278465999162384}, {"Date": "2015-01-01T00:00:00", "Index": 123.57002659722048, "YoY": 0.06657535214144339, "Seq": -0.012085848321974901}, {"Date": "2015-02-01T00:00:00", "Index": 122.49799409092688, "YoY": 0.05416323820584923, "Seq": -0.008675505992953414}, {"Date": "2015-03-01T00:00:00", "Index": 124.24603719412654, "YoY": 0.05973591127532907, "Seq": 0.014269973285457649}, {"Date": "2015-04-01T00:00:00", "Index": 124.84554184705512, "YoY": 0.05258403925361965, "Seq": 0.004825141038437231}, {"Date": "2015-05-01T00:00:00", "Index": 124.27063167515071, "YoY": 0.04724385025289557, "Seq": -0.004604971578470285}, {"Date": "2015-06-01T00:00:00", "Index": 125.03852690596378, "YoY": 0.046287881111696016, "Seq": 0.006179217249175917}, {"Date": "2015-07-01T00:00:00", "Index": 125.951390782166, "YoY": 0.03871729691688386, "Seq": 0.007300660834630213}, {"Date": "2015-08-01T00:00:00", "Index": 125.23959114273143, "YoY": 0.03046810483468132, "Seq": -0.005651383720451597}, {"Date": "2015-09-01T00:00:00", "Index": 125.17592816024417, "YoY": 0.02345491427794255, "Seq": -0.0005083295298744517}, {"Date": "2015-10-01T00:00:00", "Index": 126.34407888100829, "YoY": 0.02217512777035502, "Seq": 0.009332071572648593}, {"Date": "2015-11-01T00:00:00", "Index": 125.97445179108198, "YoY": 0.023531627294863355, "Seq": -0.002925559260077648}, {"Date": "2015-12-01T00:00:00", "Index": 127.00006738492591, "YoY": 0.015336544699370291, "Seq": 0.008141457091195292}, {"Date": "2016-01-01T00:00:00", "Index": 124.5156132454329, "YoY": 0.007652233104186168, "Seq": -0.019562620639899775}, {"Date": "2016-02-01T00:00:00", "Index": 124.33797232533539, "YoY": 0.015020476441783615, "Seq": -0.0014266557861091211}, {"Date": "2016-03-01T00:00:00", "Index": 124.36579182289658, "YoY": 0.0009638506907301281, "Seq": 0.0002237409621608233}, {"Date": "2016-04-01T00:00:00", "Index": 122.96663114731874, "YoY": -0.01504988221396153, "Seq": -0.011250365997510947}, {"Date": "2016-05-01T00:00:00", "Index": 122.88400347958333, "YoY": -0.011158132672827281, "Seq": -0.0006719519512282668}, {"Date": "2016-06-01T00:00:00", "Index": 123.91366489289446, "YoY": -0.008996123362164044, "Seq": 0.008379133037297315}, {"Date": "2016-07-01T00:00:00", "Index": 123.10610321909338, "YoY": -0.022590362404124376, "Seq": -0.00651713170213386}, {"Date": "2016-08-01T00:00:00", "Index": 123.55294747088503, "YoY": -0.013467336139130204, "Seq": 0.003629748973504432}, {"Date": "2016-09-01T00:00:00", "Index": 124.02989999347875, "YoY": -0.009155339877315094, "Seq": 0.0038603087369171174}, {"Date": "2016-10-01T00:00:00", "Index": 125.43600570556875, "YoY": -0.0071873029862742355, "Seq": 0.011336828556371747}, {"Date": "2016-11-01T00:00:00", "Index": 126.60052692454855, "YoY": 0.0049698579717167846, "Seq": 0.009283787477363026}, {"Date": "2016-12-01T00:00:00", "Index": 126.45985416556394, "YoY": -0.004253645139609574, "Seq": -0.0011111546089255242}, {"Date": "2017-01-01T00:00:00", "Index": 124.64444044259658, "YoY": 0.00103462685366007, "Seq": -0.01435565251080062}, {"Date": "2017-02-01T00:00:00", "Index": 123.63586805659143, "YoY": -0.005646740538014172, "Seq": -0.008091595440790078}, {"Date": "2017-03-01T00:00:00", "Index": 124.61786556704755, "YoY": 0.0020268736318578284, "Seq": 0.007942658759888532}, {"Date": "2017-04-01T00:00:00", "Index": 123.49429670846183, "YoY": 0.004291128058236726, "Seq": -0.009016113808988369}, {"Date": "2017-05-01T00:00:00", "Index": 124.25481963435321, "YoY": 0.011155366979866077, "Seq": 0.006158364767943736}, {"Date": "2017-06-01T00:00:00", "Index": 124.76365984634283, "YoY": 0.006859573996000234, "Seq": 0.004095134607148498}, {"Date": "2017-07-01T00:00:00", "Index": 125.20131552976767, "YoY": 0.017019564878480553, "Seq": 0.003507877886588462}, {"Date": "2017-08-01T00:00:00", "Index": 126.8672768955644, "YoY": 0.026825174894839154, "Seq": 0.01330626087072262}, {"Date": "2017-09-01T00:00:00", "Index": 128.6787111263595, "YoY": 0.03748137451634781, "Seq": 0.014278183272478095}, {"Date": "2017-10-01T00:00:00", "Index": 131.4709855545963, "YoY": 0.048112021863907506, "Seq": 0.021699583433772762}, {"Date": "2017-11-01T00:00:00", "Index": 130.92259251108453, "YoY": 0.03413939650592335, "Seq": -0.004171209649022067}, {"Date": "2017-12-01T00:00:00", "Index": 131.14926330231958, "YoY": 0.03708219630410281, "Seq": 0.001731334423551445}, {"Date": "2018-01-01T00:00:00", "Index": 132.11559952355998, "YoY": 0.05993976991219396, "Seq": 0.007368216922521542}, {"Date": "2018-02-01T00:00:00", "Index": 133.2818288381407, "YoY": 0.07801911316814691, "Seq": 0.008827339986999583}, {"Date": "2018-03-01T00:00:00", "Index": 134.0407818566915, "YoY": 0.0756144895177504, "Seq": 0.0056943472727439826}, {"Date": "2018-04-01T00:00:00", "Index": 135.51322172750196, "YoY": 0.09732372538153489, "Seq": 0.010985014041358765}, {"Date": "2018-05-01T00:00:00", "Index": 136.7312395372473, "YoY": 0.10040994739365972, "Seq": 0.008988184283557299}, {"Date": "2018-06-01T00:00:00", "Index": 136.7269758198825, "YoY": 0.0958878249345485, "Seq": -3.11831983620392e-05}, {"Date": "2018-07-01T00:00:00", "Index": 137.3952954128814, "YoY": 0.09739498208558772, "Seq": 0.0048879863610771235}, {"Date": "2018-08-01T00:00:00", "Index": 141.30769772895593, "YoY": 0.1138230534046909, "Seq": 0.02847551878918053}, {"Date": "2018-09-01T00:00:00", "Index": 138.78737026436266, "YoY": 0.0785573545889553, "Seq": -0.01783574076358907}, {"Date": "2018-10-01T00:00:00", "Index": 142.38786044078603, "YoY": 0.08303638129841406, "Seq": 0.025942491521852018}, {"Date": "2018-11-01T00:00:00", "Index": 140.5845113149997, "YoY": 0.07379871280120853, "Seq": -0.012665048271697787}, {"Date": "2018-12-01T00:00:00", "Index": 140.19294450138037, "YoY": 0.06895716355046289, "Seq": -0.002785277054753066}, {"Date": "2019-01-01T00:00:00", "Index": 139.45062927545146, "YoY": 0.0555197855389018, "Seq": -0.0052949542401657945}, {"Date": "2019-02-01T00:00:00", "Index": 138.1111895481389, "YoY": 0.036234202007109584, "Seq": -0.009605117841862354}, {"Date": "2019-03-01T00:00:00", "Index": 139.155777164406, "YoY": 0.03815999307720519, "Seq": 0.007563381502141198}, {"Date": "2019-04-01T00:00:00", "Index": 139.48367603381877, "YoY": 0.029299386847291053, "Seq": 0.0023563439197020752}, {"Date": "2019-05-01T00:00:00", "Index": 137.49686100398554, "YoY": 0.0055994626343578435, "Seq": -0.01424406845537618}, {"Date": "2019-06-01T00:00:00", "Index": 137.7546319498176, "YoY": 0.007516118335630262, "Seq": 0.0018747405864383282}, {"Date": "2019-07-01T00:00:00", "Index": 137.63617812014962, "YoY": 0.0017532092823435708, "Seq": -0.0008598899941972826}, {"Date": "2019-08-01T00:00:00", "Index": 137.98479055232787, "YoY": -0.023515401001025227, "Seq": 0.00253285463850883}, {"Date": "2019-09-01T00:00:00", "Index": 138.12594363091455, "YoY": -0.004765755213808176, "Seq": 0.001022961139569567}, {"Date": "2019-10-01T00:00:00", "Index": 138.30302834716866, "YoY": -0.028688064284216885, "Seq": 0.0012820525355272672}, {"Date": "2019-11-01T00:00:00", "Index": 135.63448199, "YoY": -0.035210346279957117, "Seq": -0.019294923538984654}, {"Date": "2019-12-01T00:00:00", "Index": 135.500139649292, "YoY": -0.0334739017628819, "Seq": -0.0009904733570472724}]}}, {"mode": "vega-lite"});
</script>
</div>

        
    
        
    
        
    
        
    
        
    

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_intermodal</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_intermodal</span><span class="o">.</span><span class="n">Date</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">v</span><span class="p">)</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">df_intermodal</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;brown&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">3.5</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;Date:T&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">)),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;YoY:Q&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Year-over-year Index Change [%]&#39;</span><span class="p">)),</span>
    <span class="n">tooltip</span><span class="o">=</span><span class="p">[</span><span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;Date:T&#39;</span><span class="p">),</span> <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;YoY:Q&#39;</span><span class="p">)]</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;CASS per-mile Intermodal Pricing Index&#39;</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">450</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[6]:</div>



   
        
            
<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-f14ce854abd44f39a166cca77aeb5904"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    const outputDiv = document.getElementById("altair-viz-f14ce854abd44f39a166cca77aeb5904");
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.0.2?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"name": "data-41249918111d9b73b5ebb0526b892274"}, "mark": {"type": "bar", "color": "brown", "width": 3.5}, "encoding": {"tooltip": [{"type": "temporal", "field": "Date"}, {"type": "quantitative", "field": "YoY"}], "x": {"type": "temporal", "axis": {"title": null}, "field": "Date"}, "y": {"type": "quantitative", "axis": {"title": "Year-over-year Index Change [%]"}, "field": "YoY"}}, "height": 450, "title": "CASS per-mile Intermodal Pricing Index", "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v4.0.2.json", "datasets": {"data-41249918111d9b73b5ebb0526b892274": [{"Date": "2006-01-01T00:00:00", "Index": 111.3871317444191, "YoY": 0.11387131744419099, "Seq": 0.017135221363952624}, {"Date": "2006-02-01T00:00:00", "Index": 108.8944770838766, "YoY": 0.06290166446985501, "Seq": -0.02237830009180919}, {"Date": "2006-03-01T00:00:00", "Index": 111.7197473385701, "YoY": 0.08048042157238378, "Seq": 0.025945027978942603}, {"Date": "2006-04-01T00:00:00", "Index": 114.1734507506984, "YoY": 0.0730064821676375, "Seq": 0.021963023284435668}, {"Date": "2006-05-01T00:00:00", "Index": 112.6228703482031, "YoY": 0.05624254996288913, "Seq": -0.013580919139258074}, {"Date": "2006-06-01T00:00:00", "Index": 109.2220219706626, "YoY": 0.09267404602989249, "Seq": -0.03019678300709161}, {"Date": "2006-07-01T00:00:00", "Index": 112.2369977612796, "YoY": 0.06708623649874546, "Seq": 0.02760410159250526}, {"Date": "2006-08-01T00:00:00", "Index": 112.8803816528217, "YoY": 0.07966805097616225, "Seq": 0.005732369043855989}, {"Date": "2006-09-01T00:00:00", "Index": 112.0047693610541, "YoY": 0.05024352149293798, "Seq": -0.007756992658482065}, {"Date": "2006-10-01T00:00:00", "Index": 112.4531518205033, "YoY": 0.008755571440004495, "Seq": 0.004003244344031431}, {"Date": "2006-11-01T00:00:00", "Index": 110.2540097794864, "YoY": 0.020915656125103155, "Seq": -0.019556072954959536}, {"Date": "2006-12-01T00:00:00", "Index": 114.5836439325955, "YoY": 0.04632427651956572, "Seq": 0.039269629846284904}, {"Date": "2007-01-01T00:00:00", "Index": 115.3480095301974, "YoY": 0.03555956351283607, "Seq": 0.006670808951158236}, {"Date": "2007-02-01T00:00:00", "Index": 112.2521051582499, "YoY": 0.03083377747236038, "Seq": -0.0268396861337864}, {"Date": "2007-03-01T00:00:00", "Index": 113.0059655234647, "YoY": 0.011512899156463918, "Seq": 0.006715779309011793}, {"Date": "2007-04-01T00:00:00", "Index": 115.1928748217273, "YoY": 0.008928731367284781, "Seq": 0.019352157986814555}, {"Date": "2007-05-01T00:00:00", "Index": 112.6525796220732, "YoY": 0.00026379432328660357, "Seq": -0.02205253756871217}, {"Date": "2007-06-01T00:00:00", "Index": 109.1158185468562, "YoY": -0.0009723627331759133, "Seq": -0.031395295936250456}, {"Date": "2007-07-01T00:00:00", "Index": 116.1444435337314, "YoY": 0.034814239960005766, "Seq": 0.06441435421993358}, {"Date": "2007-08-01T00:00:00", "Index": 116.2036777518393, "YoY": 0.029440865191604493, "Seq": 0.0005100047518906692}, {"Date": "2007-09-01T00:00:00", "Index": 116.0895490956133, "YoY": 0.03646969461980376, "Seq": -0.000982143237064581}, {"Date": "2007-10-01T00:00:00", "Index": 118.5919454675766, "YoY": 0.05458978737094, "Seq": 0.02155574202379129}, {"Date": "2007-11-01T00:00:00", "Index": 117.6271964307511, "YoY": 0.06687454420942562, "Seq": -0.008135030022669243}, {"Date": "2007-12-01T00:00:00", "Index": 119.3422149853579, "YoY": 0.04152923479691095, "Seq": 0.014580119280632964}, {"Date": "2008-01-01T00:00:00", "Index": 119.4351462982262, "YoY": 0.035433093164549234, "Seq": 0.0007786960622417904}, {"Date": "2008-02-01T00:00:00", "Index": 120.5996258857372, "YoY": 0.07436404614166636, "Seq": 0.009749890410008177}, {"Date": "2008-03-01T00:00:00", "Index": 125.3972110784665, "YoY": 0.1096512515742265, "Seq": 0.03978109515260675}, {"Date": "2008-04-01T00:00:00", "Index": 127.5657822100601, "YoY": 0.10741035335285387, "Seq": 0.017293615327988787}, {"Date": "2008-05-01T00:00:00", "Index": 125.6483771884869, "YoY": 0.11536173969572627, "Seq": -0.015030715826410579}, {"Date": "2008-06-01T00:00:00", "Index": 124.9036174691196, "YoY": 0.14468845243995343, "Seq": -0.0059273325770859975}, {"Date": "2008-07-01T00:00:00", "Index": 128.7656932801315, "YoY": 0.10866856271720438, "Seq": 0.030920448016381386}, {"Date": "2008-08-01T00:00:00", "Index": 128.729729342059, "YoY": 0.1077939341728058, "Seq": -0.00027929751439514927}, {"Date": "2008-09-01T00:00:00", "Index": 122.7244189979097, "YoY": 0.057153033619174565, "Seq": -0.046650531892225566}, {"Date": "2008-10-01T00:00:00", "Index": 123.954664535726, "YoY": 0.045219926589496584, "Seq": 0.010024455995487402}, {"Date": "2008-11-01T00:00:00", "Index": 117.2212191102174, "YoY": -0.003451389923865955, "Seq": -0.05432183976882843}, {"Date": "2008-12-01T00:00:00", "Index": 115.6296786415703, "YoY": -0.031108324445319635, "Seq": -0.013577238666581892}, {"Date": "2009-01-01T00:00:00", "Index": 111.6150030986011, "YoY": -0.06547606330299482, "Seq": -0.03472011329733016}, {"Date": "2009-02-01T00:00:00", "Index": 108.0190639124771, "YoY": -0.1043167578743538, "Seq": -0.032217346112039524}, {"Date": "2009-03-01T00:00:00", "Index": 109.5678862689322, "YoY": -0.12623346782113998, "Seq": 0.01433841676049008}, {"Date": "2009-04-01T00:00:00", "Index": 108.7405850471308, "YoY": -0.14757246682288372, "Seq": -0.007550581196490325}, {"Date": "2009-05-01T00:00:00", "Index": 105.8102510583655, "YoY": -0.157886051328478, "Seq": -0.026947932894560322}, {"Date": "2009-06-01T00:00:00", "Index": 100.5915037760805, "YoY": -0.1946469941036726, "Seq": -0.04932175502925806}, {"Date": "2009-07-01T00:00:00", "Index": 107.6177213437558, "YoY": -0.16423607404782892, "Seq": 0.06984901610891381}, {"Date": "2009-08-01T00:00:00", "Index": 108.2051145416299, "YoY": -0.159439586374732, "Seq": 0.005458145652404545}, {"Date": "2009-09-01T00:00:00", "Index": 104.7553775910495, "YoY": -0.14641781605962423, "Seq": -0.03188145925628294}, {"Date": "2009-10-01T00:00:00", "Index": 107.7304278348325, "YoY": -0.13088847250453717, "Seq": 0.0283999763276801}, {"Date": "2009-11-01T00:00:00", "Index": 107.9950873489225, "YoY": -0.07870701082386822, "Seq": 0.0024566830319820987}, {"Date": "2009-12-01T00:00:00", "Index": 111.8426162007377, "YoY": -0.03275164720099033, "Seq": 0.03562688772484779}, {"Date": "2010-01-01T00:00:00", "Index": 113.9761939297877, "YoY": 0.021154779963592496, "Seq": 0.019076607839900728}, {"Date": "2010-02-01T00:00:00", "Index": 113.770679752569, "YoY": 0.05324630330764735, "Seq": -0.0018031324799747672}, {"Date": "2010-03-01T00:00:00", "Index": 115.2616363155742, "YoY": 0.051965500481288895, "Seq": 0.013104927967801272}, {"Date": "2010-04-01T00:00:00", "Index": 114.9797871809985, "YoY": 0.05737694101207458, "Seq": -0.0024452987445364727}, {"Date": "2010-05-01T00:00:00", "Index": 116.5196222511435, "YoY": 0.10121298348371432, "Seq": 0.013392224041265832}, {"Date": "2010-06-01T00:00:00", "Index": 109.4126901455377, "YoY": 0.08769315536919908, "Seq": -0.06099343585484429}, {"Date": "2010-07-01T00:00:00", "Index": 112.9342587209354, "YoY": 0.04940206232575162, "Seq": 0.03218610721218362}, {"Date": "2010-08-01T00:00:00", "Index": 113.1582514258301, "YoY": 0.04577544143991985, "Seq": 0.001983390225708037}, {"Date": "2010-09-01T00:00:00", "Index": 111.5325285018296, "YoY": 0.06469501677744094, "Seq": -0.014366808460857916}, {"Date": "2010-10-01T00:00:00", "Index": 115.4420954438719, "YoY": 0.07158300365113734, "Seq": 0.035053154398612785}, {"Date": "2010-11-01T00:00:00", "Index": 113.2565457094963, "YoY": 0.048719423167597364, "Seq": -0.018931999856484194}, {"Date": "2010-12-01T00:00:00", "Index": 116.2934664362724, "YoY": 0.039795655598275914, "Seq": 0.02681452721122035}, {"Date": "2011-01-01T00:00:00", "Index": 122.5207870711533, "YoY": 0.07496822666871372, "Seq": 0.05354832756914507}, {"Date": "2011-02-01T00:00:00", "Index": 121.9732794506366, "YoY": 0.07209765922034395, "Seq": -0.004468691669428537}, {"Date": "2011-03-01T00:00:00", "Index": 126.8531072741888, "YoY": 0.10056660072808943, "Seq": 0.04000735116355636}, {"Date": "2011-04-01T00:00:00", "Index": 128.3227981275645, "YoY": 0.11604657891357673, "Seq": 0.011585769438024363}, {"Date": "2011-05-01T00:00:00", "Index": 128.8298350284865, "YoY": 0.10564926781868444, "Seq": 0.003951261259265593}, {"Date": "2011-06-01T00:00:00", "Index": 122.0216151082346, "YoY": 0.11524188780958466, "Seq": -0.05284660900750593}, {"Date": "2011-07-01T00:00:00", "Index": 124.8275629366095, "YoY": 0.10531174818318756, "Seq": 0.022995498181908047}, {"Date": "2011-08-01T00:00:00", "Index": 124.9918788097035, "YoY": 0.10457591235960173, "Seq": 0.001316342875150367}, {"Date": "2011-09-01T00:00:00", "Index": 123.5494871229493, "YoY": 0.10774398090439208, "Seq": -0.011539883234735537}, {"Date": "2011-10-01T00:00:00", "Index": 126.7516541821527, "YoY": 0.0979673722552925, "Seq": 0.02591809269120482}, {"Date": "2011-11-01T00:00:00", "Index": 124.0510274805727, "YoY": 0.09531000352742813, "Seq": -0.02130644147412053}, {"Date": "2011-12-01T00:00:00", "Index": 128.1777757058487, "YoY": 0.10219240713827005, "Seq": 0.033266538045581884}, {"Date": "2012-01-01T00:00:00", "Index": 129.9471171036562, "YoY": 0.06061281689441089, "Seq": 0.013803807938342905}, {"Date": "2012-02-01T00:00:00", "Index": 126.2134338009505, "YoY": 0.034762977345623725, "Seq": -0.028732328857495437}, {"Date": "2012-03-01T00:00:00", "Index": 133.9963833382212, "YoY": 0.056311399992689415, "Seq": 0.06166498527839015}, {"Date": "2012-04-01T00:00:00", "Index": 134.9164047281872, "YoY": 0.05138297088930388, "Seq": 0.006866016582281587}, {"Date": "2012-05-01T00:00:00", "Index": 129.9902478137001, "YoY": 0.009007329590672963, "Seq": -0.03651266074286286}, {"Date": "2012-06-01T00:00:00", "Index": 124.406800211163, "YoY": 0.019547234322482288, "Seq": -0.042952819126394814}, {"Date": "2012-07-01T00:00:00", "Index": 125.0849841843503, "YoY": 0.0020622148000399854, "Seq": 0.005451341663286646}, {"Date": "2012-08-01T00:00:00", "Index": 127.2384005001366, "YoY": 0.017973341242860874, "Seq": 0.017215626078767254}, {"Date": "2012-09-01T00:00:00", "Index": 127.808793292472, "YoY": 0.03447449494698507, "Seq": 0.004482866729645707}, {"Date": "2012-10-01T00:00:00", "Index": 129.246070368042, "YoY": 0.019679555284577432, "Seq": 0.01124552574626847}, {"Date": "2012-11-01T00:00:00", "Index": 127.3124022565964, "YoY": 0.026290590592121132, "Seq": -0.014961136581865042}, {"Date": "2012-12-01T00:00:00", "Index": 130.9753177645605, "YoY": 0.021825484514037763, "Seq": 0.028771081552459776}, {"Date": "2013-01-01T00:00:00", "Index": 130.1979406526276, "YoY": 0.0019301971029592746, "Seq": -0.005935294719653039}, {"Date": "2013-02-01T00:00:00", "Index": 128.7112023796385, "YoY": 0.01979003742681784, "Seq": -0.01141906135793469}, {"Date": "2013-03-01T00:00:00", "Index": 131.5347277276551, "YoY": -0.018371060093111624, "Seq": 0.021936904448212058}, {"Date": "2013-04-01T00:00:00", "Index": 131.0770106927377, "YoY": -0.028457577439782944, "Seq": -0.0034798189255776935}, {"Date": "2013-05-01T00:00:00", "Index": 126.9476632212219, "YoY": -0.023406252727810717, "Seq": -0.03150321669446332}, {"Date": "2013-06-01T00:00:00", "Index": 123.2946392792583, "YoY": -0.008939711736150713, "Seq": -0.028775826582941977}, {"Date": "2013-07-01T00:00:00", "Index": 124.4731767351205, "YoY": -0.00489113424140597, "Seq": 0.009558708008325034}, {"Date": "2013-08-01T00:00:00", "Index": 126.3583013983849, "YoY": -0.006916929938542982, "Seq": 0.015144826481579665}, {"Date": "2013-09-01T00:00:00", "Index": 125.7877756121993, "YoY": -0.015812821858413928, "Seq": -0.0045151428902706625}, {"Date": "2013-10-01T00:00:00", "Index": 128.6529556441459, "YoY": -0.00458903487128981, "Seq": 0.022777889329881118}, {"Date": "2013-11-01T00:00:00", "Index": 126.3313145347864, "YoY": -0.0077061441338026615, "Seq": -0.01804576581809092}, {"Date": "2013-12-01T00:00:00", "Index": 128.8466082400326, "YoY": -0.016252753273364284, "Seq": 0.01991029472390693}, {"Date": "2014-01-01T00:00:00", "Index": 131.0020181695799, "YoY": 0.006175808257195214, "Seq": 0.016728495681717304}, {"Date": "2014-02-01T00:00:00", "Index": 130.1943786207574, "YoY": 0.011523287901112234, "Seq": -0.006165092416950735}, {"Date": "2014-03-01T00:00:00", "Index": 135.4309460874846, "YoY": 0.02962121431457021, "Seq": 0.04022114873316296}, {"Date": "2014-04-01T00:00:00", "Index": 133.6803943401638, "YoY": 0.019861481686737292, "Seq": -0.012925788365902857}, {"Date": "2014-05-01T00:00:00", "Index": 133.4999068844172, "YoY": 0.05161373984314466, "Seq": -0.0013501415569386888}, {"Date": "2014-06-01T00:00:00", "Index": 128.8805364257896, "YoY": 0.045305271820289095, "Seq": -0.034602050042079835}, {"Date": "2014-07-01T00:00:00", "Index": 130.2351617233567, "YoY": 0.046290977215900364, "Seq": 0.010510704991883113}, {"Date": "2014-08-01T00:00:00", "Index": 131.9338613130245, "YoY": 0.044124998935058946, "Seq": 0.013043325375340142}, {"Date": "2014-09-01T00:00:00", "Index": 130.7524036552093, "YoY": 0.03946828711174466, "Seq": -0.008954923672036652}, {"Date": "2014-10-01T00:00:00", "Index": 133.3759113789555, "YoY": 0.03671082184752361, "Seq": 0.020064699771518812}, {"Date": "2014-11-01T00:00:00", "Index": 129.9658630028431, "YoY": 0.02876997268207715, "Seq": -0.025567198310822215}, {"Date": "2014-12-01T00:00:00", "Index": 132.1820856817335, "YoY": 0.02588719631243319, "Seq": 0.017052344574835843}, {"Date": "2015-01-01T00:00:00", "Index": 129.6216929357988, "YoY": -0.010536671519016716, "Seq": -0.019370194778887018}, {"Date": "2015-02-01T00:00:00", "Index": 127.2836348116616, "YoY": -0.022356908492758176, "Seq": -0.018037552752032227}, {"Date": "2015-03-01T00:00:00", "Index": 131.6529187836423, "YoY": -0.02789633693765836, "Seq": 0.034327146443027035}, {"Date": "2015-04-01T00:00:00", "Index": 130.3060213279911, "YoY": -0.025242093493427653, "Seq": -0.010230669157169858}, {"Date": "2015-05-01T00:00:00", "Index": 128.2841308842073, "YoY": -0.03906951039842799, "Seq": -0.015516477467257928}, {"Date": "2015-06-01T00:00:00", "Index": 124.7878807406825, "YoY": -0.03175542093948125, "Seq": -0.027253956661877354}, {"Date": "2015-07-01T00:00:00", "Index": 127.9580863721008, "YoY": -0.017484336189429572, "Seq": 0.025404755755137787}, {"Date": "2015-08-01T00:00:00", "Index": 128.5816469842772, "YoY": -0.025408293938990245, "Seq": 0.004873163000914893}, {"Date": "2015-09-01T00:00:00", "Index": 125.2970317067575, "YoY": -0.041722919012926685, "Seq": -0.025544977487505283}, {"Date": "2015-10-01T00:00:00", "Index": 128.519099665649, "YoY": -0.03641445942593802, "Seq": 0.0257154372693551}, {"Date": "2015-11-01T00:00:00", "Index": 126.1286166996228, "YoY": -0.02952503230126169, "Seq": -0.018600215627445404}, {"Date": "2015-12-01T00:00:00", "Index": 127.3454586613269, "YoY": -0.03659063930986961, "Seq": 0.00964762790193796}, {"Date": "2016-01-01T00:00:00", "Index": 128.601825122848, "YoY": -0.007868033427521515, "Seq": 0.009865812842705157}, {"Date": "2016-02-01T00:00:00", "Index": 125.0317423919491, "YoY": -0.01769192420568888, "Seq": -0.027760746999418995}, {"Date": "2016-03-01T00:00:00", "Index": 125.3540095180063, "YoY": -0.047844812890078026, "Seq": 0.002577482484783289}, {"Date": "2016-04-01T00:00:00", "Index": 126.9155487287759, "YoY": -0.02601930873693925, "Seq": 0.012457034416161195}, {"Date": "2016-05-01T00:00:00", "Index": 126.1948092308751, "YoY": -0.01628667270792883, "Seq": -0.005678890452115226}, {"Date": "2016-06-01T00:00:00", "Index": 123.1503391144905, "YoY": -0.01312260146155464, "Seq": -0.024125161208609525}, {"Date": "2016-07-01T00:00:00", "Index": 125.995461953094, "YoY": -0.015338025713353631, "Seq": 0.023102842095777287}, {"Date": "2016-08-01T00:00:00", "Index": 126.7427595804379, "YoY": -0.014301320965846354, "Seq": 0.005931147167999695}, {"Date": "2016-09-01T00:00:00", "Index": 126.3174127346409, "YoY": 0.00814369673394566, "Seq": -0.0033559853612550317}, {"Date": "2016-10-01T00:00:00", "Index": 130.5145566720488, "YoY": 0.015526540503248976, "Seq": 0.03322696251090074}, {"Date": "2016-11-01T00:00:00", "Index": 128.0784437920413, "YoY": 0.01545903811077265, "Seq": -0.01866544960290406}, {"Date": "2016-12-01T00:00:00", "Index": 130.7039663908968, "YoY": 0.026373203763015995, "Seq": 0.020499332449092744}, {"Date": "2017-01-01T00:00:00", "Index": 134.0901125997908, "YoY": 0.04267659087808506, "Seq": 0.025906988918508178}, {"Date": "2017-02-01T00:00:00", "Index": 131.5359347789313, "YoY": 0.05202032909845311, "Seq": -0.01904821892783981}, {"Date": "2017-03-01T00:00:00", "Index": 132.4725268001043, "YoY": 0.05678731226443534, "Seq": 0.0071204269977409584}, {"Date": "2017-04-01T00:00:00", "Index": 133.6913976998065, "YoY": 0.053388643384514545, "Seq": 0.009200933424795332}, {"Date": "2017-05-01T00:00:00", "Index": 129.0970530916072, "YoY": 0.02299812391983891, "Seq": -0.034365297148852725}, {"Date": "2017-06-01T00:00:00", "Index": 125.4017903862938, "YoY": 0.018282136192172116, "Seq": -0.028623912140668617}, {"Date": "2017-07-01T00:00:00", "Index": 128.8281228352144, "YoY": 0.022482245298445447, "Seq": 0.027322835171379678}, {"Date": "2017-08-01T00:00:00", "Index": 128.5238842482636, "YoY": 0.01405306838609044, "Seq": -0.0023615851900593565}, {"Date": "2017-09-01T00:00:00", "Index": 128.655014484174, "YoY": 0.018505776036149335, "Seq": 0.0010202791230389252}, {"Date": "2017-10-01T00:00:00", "Index": 132.1321988379847, "YoY": 0.0123943428777884, "Seq": 0.027027196473857096}, {"Date": "2017-11-01T00:00:00", "Index": 130.8584562909914, "YoY": 0.02170554557536586, "Seq": -0.00963991031856748}, {"Date": "2017-12-01T00:00:00", "Index": 135.8015050936468, "YoY": 0.03900064277701243, "Seq": 0.037774011269577246}, {"Date": "2018-01-01T00:00:00", "Index": 139.3158130693046, "YoY": 0.03897155702382449, "Seq": 0.025878269708677903}, {"Date": "2018-02-01T00:00:00", "Index": 139.3985890039959, "YoY": 0.05977571253269409, "Seq": 0.0005941603674963769}, {"Date": "2018-03-01T00:00:00", "Index": 141.9524400802367, "YoY": 0.07156135320372647, "Seq": 0.018320494450396296}, {"Date": "2018-04-01T00:00:00", "Index": 143.1219191147359, "YoY": 0.0705394780605475, "Seq": 0.008238527170354892}, {"Date": "2018-05-01T00:00:00", "Index": 141.8750151412116, "YoY": 0.09897950219310725, "Seq": -0.008712180365082256}, {"Date": "2018-06-01T00:00:00", "Index": 138.3361379766473, "YoY": 0.10314324500878258, "Seq": -0.024943624929604225}, {"Date": "2018-07-01T00:00:00", "Index": 141.5264659597941, "YoY": 0.09856809868154581, "Seq": 0.023062144352225422}, {"Date": "2018-08-01T00:00:00", "Index": 144.0211684008131, "YoY": 0.12057902111497132, "Seq": 0.01762710899407116}, {"Date": "2018-09-01T00:00:00", "Index": 144.2865064001085, "YoY": 0.1214992822363512, "Seq": 0.0018423541639167595}, {"Date": "2018-10-01T00:00:00", "Index": 147.7897523470068, "YoY": 0.11849915196083871, "Seq": 0.024279789110589256}, {"Date": "2018-11-01T00:00:00", "Index": 143.2093714485856, "YoY": 0.0943837754751542, "Seq": -0.030992547356508027}, {"Date": "2018-12-01T00:00:00", "Index": 147.0810085798465, "YoY": 0.0830587516568504, "Seq": 0.027034802904996047}, {"Date": "2019-01-01T00:00:00", "Index": 145.0805055584243, "YoY": 0.04137859416039147, "Seq": -0.013601368665732028}, {"Date": "2019-02-01T00:00:00", "Index": 145.3287571316054, "YoY": 0.042541091484358695, "Seq": 0.0017111297773988454}, {"Date": "2019-03-01T00:00:00", "Index": 148.5710881989398, "YoY": 0.04662581435699176, "Seq": 0.022310319934809808}, {"Date": "2019-04-01T00:00:00", "Index": 147.802215598217, "YoY": 0.03270146538301422, "Seq": -0.005175115899354932}, {"Date": "2019-05-01T00:00:00", "Index": 147.1806753397602, "YoY": 0.03739671987536175, "Seq": -0.0042052161122292375}, {"Date": "2019-06-01T00:00:00", "Index": 140.0064350783418, "YoY": 0.012074192081150015, "Seq": -0.048744444505754325}, {"Date": "2019-07-01T00:00:00", "Index": 141.4073154837629, "YoY": -0.0008418953672245655, "Seq": 0.010005828693782526}, {"Date": "2019-08-01T00:00:00", "Index": 143.8895006962525, "YoY": -0.0009142246658780939, "Seq": 0.017553442719691725}, {"Date": "2019-09-01T00:00:00", "Index": 142.5090887506755, "YoY": -0.012318668555909129, "Seq": -0.009593555741714832}, {"Date": "2019-10-01T00:00:00", "Index": 148.8449775519709, "YoY": 0.007140043123466722, "Seq": 0.044459541891958}, {"Date": "2019-11-01T00:00:00", "Index": 147.1843788914289, "YoY": 0.027756615385120753, "Seq": -0.011156564956732895}, {"Date": "2019-12-01T00:00:00", "Index": 148.118991987382, "YoY": 0.007057222530344687, "Seq": 0.006349947616672846}]}}, {"mode": "vega-lite"});
</script>
</div>

        
    
        
    
        
    
        
    
        
    

</div>

</div>
</div>

</div>
<hr>
&copy; 2020 Kyle Dunn
<p><small>Exported from <a href="http://github.com/kdunn926/us-macro/blob/832139a0c3f599ce93b6a57ae587ca6c7398d79a/analysis/transportation-cass.ipynb"><code>analysis/transportation-cass.ipynb</code></a> committed by GitHub Action on Sun Feb 9 16:26:23 2020 <a href="http://github.com/kdunn926/us-macro/commit/832139a0c3f599ce93b6a57ae587ca6c7398d79a">revision 2, 832139a</a> <a href="https://stephenslab.github.io/ipynb-website/notes.html#Note-about-commit-ids"><span class="fa fa-question-circle"></span></a></small></p>
</div>
</div>
</body>


<script>
// TODO - some, or all of this could be moved to pre-rendering sed/regex
// add bootstrap table styles to pandoc tables (notebooks)
$(document).ready( () => {

  $('tr').parent('thead').parent('table').addClass('table table-condensed');
  $('tr').parent('thead').parent('table').removeAttr('border');
  $('tr').parent('thead').parent('table').removeClass('dataframe');

  $('.output_area .output_html table thead tr').removeAttr('style');
  $('.output_area .output_html table thead tr th').attr("scope", "col");

  $('.output_area .output_html table tbody tr th').attr("scope", "row");


  // Change the input cell gutter text, make it a link
  $('.input .input_prompt').map((n, e) => {
    e.innerHTML = `<a href="#" >Show Code Cell [${n + 1}]</a>`;
  });

  // Attach an event listener to the above link for show/hide
  $('.input .input_prompt a').map((n, e) => {
    const showOrHide = e => {
      e.preventDefault();
      $(`#code-${n}`).find('.inner_cell').toggleClass('collapse');
      const v = $(`#code-${n}`).find('.input_prompt a');
      if (v.html().includes('Show')) {
        v.html(`Hide Code Cell [${n+1}]`);
      } else {
        v.html(`Show Code Cell [${n+1}]`);
      }
    }

    e.addEventListener("click", showOrHide, false);
  });

  // Annotate parent cells of input cells with id/classes
  $('.input .inner_cell').map((n, e) => {
    $('.input .inner_cell').parent('div').toArray()[n].id = `code-${n}`;
  });
  $('.input .inner_cell')
    .addClass("collapse")
    .after('<div class="inner_cell" style="font-size: 150%; padding-left: 5px;">...</div>');

});
</script>
    

</html>
